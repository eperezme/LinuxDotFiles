!function(){var e;!function(e){e.full="full",e.limited="limited"}(e||(e={}));function n(e,n,t,o=document,i=!1,a=!1){const l=e,r=o.documentElement;if(i){const e=o.createElement("link");e.href=l,e.rel="preload",e.as="script",e.onload=()=>{e.remove()},r.prepend(e)}const d=o.createElement("script");d.async=!1,d.defer=!1,d.src=l,d.type="text/javascript",n&&d.setAttribute("data-ext-id",n),t&&d.setAttribute("data-ext-version",t),a&&d.setAttribute("data-ext-minimal","true"),d.onload=()=>{d.remove()},r.prepend(d)}!function(e,t,o){var i,a,l,r;let d=!0;try{const c=o();if(Boolean(null===(i=c.canvas)||void 0===i?void 0:i.enabledWithDynamicConfig)){n(t("Grammarly-gDocsEarlyInjectedCs.js"),e,void 0,void 0,!0);const o=Boolean(null===(a=c.canvasWithSVG)||void 0===a?void 0:a.enabledWithExperiment),i=Boolean(null===(l=c.canvasWithSVG)||void 0===l?void 0:l.enabledWithDynamicConfig);(Boolean(null===(r=c.canvasWithSVG)||void 0===r?void 0:r.forcedWithDynamicConfig)||i&&o)&&n(t("Grammarly-gDocsAnnotatedCanvasEarlyInjected.js"),e,void 0,void 0,!0),d=!1}}catch(e){console.error("Grammarly error: Unable to initialize on gdocs due to exception: ",e)}d&&n(t("Grammarly-gDocsCanvasFallbackInjected.js"),e,void 0,void 0,!0),function(e="grammarly-desktop-integration"){var n,t;const o=`\n  div.${e} {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select:none;\n    user-select:none;\n  }\n\n  div.${e}:before {\n    content: attr(data-content);\n  }\n`,i=document.createElement("style");i.textContent=o;const a=document.createElement("div");a.setAttribute("aria-label","grammarly-integration"),a.setAttribute("role","group"),a.setAttribute("tabindex","-1"),a.setAttribute("class",e);const l=document.createElement(e);return l.attachShadow({mode:"open"}),l.setAttribute("data-grammarly-shadow-root","true"),null===(n=l.shadowRoot)||void 0===n||n.appendChild(i),null===(t=l.shadowRoot)||void 0===t||t.appendChild(a),document.documentElement.appendChild(l),{activate:(e,n,t)=>{null==a||a.setAttribute("data-content",JSON.stringify(n?{mode:n,isActive:e,isUserDisabled:t}:{isActive:e}))},remove:()=>{var e;null===(e=null==l?void 0:l.parentNode)||void 0===e||e.removeChild(l)}}}().activate(!0)}(chrome.runtime.id,(e=>chrome.runtime.getURL(`src/js/${e}`)),function(e,n,t,o){function i(){const e=n.getItem(t);if(e)try{return JSON.parse(e)}catch(e){}}return chrome.storage.local.get(e,(e=>{const a=JSON.stringify(o(i(),e));n.setItem(t,a)})),chrome.storage.onChanged.addListener(((a,l)=>{if("local"===l){const l={};let r=!1;for(const[n,t]of Object.entries(a))e.includes(n)&&(l[n]=t.newValue,r=!0);if(r){const e=JSON.stringify(o(i(),l));n.setItem(t,e)}}})),function(){return o(i(),{})}}(["user","dynamicConfig"],localStorage,"grammarly.gDocs",(function(e,n){var t,o,i,a,l,r,d,c;const s=n.dynamicConfig?Object.keys(n.dynamicConfig).find((e=>e.startsWith("gDocsCanvasConfig"))):null;return{canvas:{enabledWithDynamicConfig:Boolean(s?null===(t=n.dynamicConfig[s])||void 0===t?void 0:t.enableCanvas:null===(o=null==e?void 0:e.canvas)||void 0===o?void 0:o.enabledWithDynamicConfig)},canvasWithSVG:{enabledWithDynamicConfig:Boolean(s?null===(i=n.dynamicConfig[s])||void 0===i?void 0:i.useAnnotatedCanvas:null===(a=null==e?void 0:e.canvasWithSVG)||void 0===a?void 0:a.enabledWithDynamicConfig),enabledWithExperiment:Boolean((null===(l=n.user)||void 0===l?void 0:l.experiments)?n.user.experiments.gDocsAnnotatedCanvas:null===(r=null==e?void 0:e.canvasWithSVG)||void 0===r?void 0:r.enabledWithExperiment),forcedWithDynamicConfig:Boolean(s?null===(d=n.dynamicConfig[s])||void 0===d?void 0:d.forceSVGMapping:null===(c=null==e?void 0:e.canvasWithSVG)||void 0===c?void 0:c.forcedWithDynamicConfig)}}})))}();